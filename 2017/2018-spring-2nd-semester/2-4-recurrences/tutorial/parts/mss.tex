% file: parts/mss.tex

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{Maximum-sum subarray}
  \begin{exampleblock}{Maximum-sum subarray (Google Interview)}
    \begin{itemize}
      \item Array $A[1 \cdots n], a_{i} >=< 0$
      \item To find (the sum of) a maximum-sum subarray of $A$
    \end{itemize}
	
    \[
      A[-2,1 ,-3,4,-1,2,1,-5,4] \implies [4,-1,2,1]
    \]
  \end{exampleblock}

  \pause
  \begin{description}
    \item[Subproblem:] $\text{MSS}[i]$: sum of an $\text{MS}[i]$ of $A[1 \cdots i]$
    \item[Goal:] $\text{mss} = \text{MSS}[n]$
    \pause
    \item[Make choice:] Is $a_{i} \in \text{MS}[i]$?
    \item[Recurrence:]
      \[ 
	\text{MSS}[i] = \max \set{\text{MSS}[i-1], \textcolor{red}{???}}
      \]
  \end{description}
\end{frame}
%%%%%%%%%%%%%%%%%%%%
\begin{frame}{Maximum-sum subarray}
  \begin{description}
    \item[Subproblem:] $\text{MSS}[i]$: sum of an $\text{MS}[i]$ \textcolor{red}{\it ending with} $a_{i}$
    \item[Goal:] $\text{mss} = \max\limits_{1 \le i \le n} \text{MSS}[i]$
    \pause
    \item[Make choice:] Where does the $\text{MS}[i]$ start?
    \item[Recurrence:]
      \[ 
	    \text{MSS}[i] = \max \set{\text{MSS}[i-1] + a_{i}, a_{i}} \text{ \textcolor{red}{(Proof!)}}
      \]
    \pause
    \item[Init:]
      \[
	    \text{MSS}[0] = 0
      \]
      \pause
    \item[Time:] $\Theta(n)$
  \end{description}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{Maximum-sum subarray}
  \begin{columns}
    \column{0.40\textwidth}
      \fignocaption{width = 0.60\textwidth}{figs/programming-pearls.jpg}
    \column{0.60\textwidth}
      \begin{description}[<+->][Michael Shamos]
	\item[Ulf Grenander] $O(n^3) \implies O(n^2)$
	\item[Michael Shamos] $O(n \log n)$, onenight
	\item[Jon Bentley] Conjecture: $\Omega(n \log n)$
	\item[Michael Shamos] Carnegie Mellon seminar
	\item[Jay Kadane] $O(n)$, \uncover<6->{\textcolor{red}{$\le 1$ minute}}
      \end{description}
  \end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}<beamer:0>{Maximum-sum subarray}
  \begin{columns}
    \column{0.55\textwidth}
      \begin{algorithmic}
	\State $\text{MSS}[0] \gets 0$
	\ForAll{$i \gets 1 \dots n$}
	  \State $\text{MSS}[i] \gets \max\set{\text{MSS}[i-1] + a_i, 0}$
	\EndFor
	\State \Return $\max\limits_{i = 1 \dots n} \text{MSS}[i]$ 
      \end{algorithmic}
      \pause
    \column{0.50\textwidth}
      \begin{algorithmic}
	\State $\text{mss} \gets 0$
	\State $\text{MSS} \gets 0$
	\ForAll{$i \gets 1 \dots n$}
	  \State $\text{MSS} \gets \max\set{\text{MSS} + a_i, 0}$
	  \State $\text{mss} \gets \max\set{\text{mss}, \text{MSS}}$
	\EndFor
	\State \Return $\text{mss}$
      \end{algorithmic}
  \end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{Maximum-product subarray}
  \begin{exampleblock}{Maximum-product subarray (Problem 7.4)}
    \begin{itemize}
      \item Array $A[1 \dots n]$
      \item Find maximum-product subarray of $A$
    \end{itemize}

    \begin{enumerate}[(1)]
      \item $a_i \in \mathbb{N}$
      \item $a_i \in \mathbb{Z}$
      \item $a_i \in \mathbb{R}$ 
    \end{enumerate}
  \end{exampleblock}

  \pause
  \vspace{0.60cm}
  \centerline{sum \emph{vs.} product}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{Maximum-product subarray}
  \centerline{Subproblem: $\text{MaxP}[i], \text{MinP}[i]$}

  \begin{table}
    \renewcommand{\arraystretch}{1.5}
    \centering
    \begin{tabular}{|L||C|C|C|C|C|C|C|}
      \hline
      &	& \frac{1}{2} & 4 & -2 & \textcolor{red}{5} & \textcolor{red}{-\frac{1}{5}} & 8 \\ \hline
      \text{MaxP}[i] & 1	& \frac{1}{2} & 4 & -2 & 5 & 8 & 64 \\ \hline
      \text{MinP}[i] & 1	& \frac{1}{2} & 2 & -8 & -40 & -1 & -8  \\ \hline
    \end{tabular}
  \end{table}

  \begin{align*}
    \text{MaxP}[i] &= \max\set{\text{MaxP}[i-1] \cdot a_i, \text{MinP}[i-1] \cdot a_i, a_i} \\
    \text{MinP}[i] &= \min\set{\text{MaxP}[i-1] \cdot a_i, \text{MinP}[i-1] \cdot a_i, a_i}
  \end{align*}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  2d
\end{frame}
%%%%%%%%%%%%%%%%%%%%