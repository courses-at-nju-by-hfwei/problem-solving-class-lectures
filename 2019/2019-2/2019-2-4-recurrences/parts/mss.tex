% mss.tex

%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{exampleblock}{Maximum-sum Subarray (\mss; Problem $4.1-5$)}
    \[
      A[0 \ldots n-1] \qquad \forall 0 \le i \le n-1: \red{A[i] \in \Z}
    \]

    \pause
    \begin{center}
      To find (the sum of) a maximum-sum \red{subarray} of $A$
    \end{center}
  \end{exampleblock}

  \pause
  \[
    A = [-2, 11, -4, 13, -5, -2]
  \]

  \pause
  \vspace{-0.30cm}
  \[
    \mss = 11 + (-4) + 13 = 20
  \]
  
  \pause
  \[
    A = [-2, 1, -3, 4, -1, 2, 1, -5, 4]
  \]

  \pause
  \vspace{-0.30cm}
  \[
    \mss = 4 + (-1) + 2 + 1 = 6
  \]
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \[
    \mssprefix[i]: \text{(the sum of) a maximum-sum subarray in } A[1 \cdots i]
  \]

  \pause
  \[
    \mss = \mssprefix[n]
  \]

  \pause
  \[
    \red{Q: \text{Is } a_{i} \in \mssprefix[i]?}
  \]
  
  \pause
  \[ 
    \mssprefix[i] = \max \set{\text{MSS}[i-1], \red{???}}
  \]
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \[
    \mssat[i]: \text{(the sum of) a maximum-sum subarray \red{ending with }} A[i]
  \]

  \pause
  \[
    \mss = \max_{0 \le i \le n-1} \mssat[i]
  \]

  \pause
  \[
    \red{Q: \text{ Where does } \mssat[i] \text{ start}?}
  \]

  \pause
  \[
    \blue{\boxed{\mssat[i] = \max \set{\mssat[i-1] + A[i], A[i]}}}
  \]

  \pause
  \[
    \mssat[0] = \red{A[0]}
  \]

  % \begin{displaymath}
  %   \text{MSS}[i] = \left\{ \begin{array}{ll}
  %     0 & i = 0 \\
  %     \max \set{\text{MSS}[i-1] + a_{i}, 0} & i > 0
  %   \end{array} \right.
  % \end{displaymath}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}
  \begin{columns}
    \column{0.10\textwidth}
    \column{0.70\textwidth}
      \input{algs/mss-n-1}
    \column{0.10\textwidth}
  \end{columns}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}
  \begin{columns}
    \column{0.10\textwidth}
    \column{0.70\textwidth}
      \input{algs/mss-n-2}
    \column{0.10\textwidth}
  \end{columns}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  % \input{algs/max-subarray-origin}

  % \pause
  % \vspace{-0.30cm}
  % \input{algs/max-subarray}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{columns}
    \column{0.40\textwidth}
      \fig{width = 0.60\textwidth}{figs/programming-pearls.jpg}
    \column{0.60\textwidth}
      \begin{description}[<+->][Michael Shamos]
        \setlength{\itemsep}{6pt}
        \item[Ulf Grenander] $O(n^3) \implies O(n^2)$
        \item[Michael Shamos] $O(n \log n)$, onenight
        \item[Jon Bentley] Conjecture: $\Omega(n \log n)$
        \item[Michael Shamos] Carnegie Mellon seminar
        \item[Jay Kadane] $O(n)$, \uncover<6->{\textcolor{red}{$\le 1$ minute}}
      \end{description}
  \end{columns}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{exampleblock}{Maximum-\red{product} Subarray (\mps)}
    \[
      A[0 \ldots n-1] \qquad \forall 0 \le i \le n-1: \red{A[i] \in \Z}
    \]

    \pause
    \begin{center}
      To find (the \red{product} of) a maximum-\red{product} subarray of $A$
    \end{center}
  \end{exampleblock}

  \pause
  \[
    A = [\frac{1}{2}, 4, -2, 5, -\frac{1}{5}, 8
  \]

  \pause
  \[
    \mps = 4 \times (-2) \times 5 \times (-\frac{1}{5}) \times 8 = 64
  \]
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \[
    \mpsat[i]: \text{(the product of) a maximum-product subarray \red{ending with }} A[i]
  \]

  \pause
  \[
    \mps = \max_{0 \le i \le n-1} \mpsat[i]
  \]

  \pause
  \[
    \red{Q: \text{ Where does } \mpsat[i] \text{ start}?}
  \]

  \begin{table}
    \renewcommand{\arraystretch}{1.8}
    \centering
    \begin{tabular}{|L||C|C|C|C|C|C|C|}
      \hline
      &	& \frac{1}{2} & 4 & -2 & \textcolor{red}{5} & \textcolor{red}{-\frac{1}{5}} & 8 \\ \hline \pause 
      \text{MaxP}[i] & 1	& \frac{1}{2} & 4 & -2 & 5 & 8 & 64 \\ \hline \pause
      \text{MinP}[i] & 1	& \frac{1}{2} & 2 & -8 & -40 & -1 & -8  \\ \hline
    \end{tabular}
  \end{table}

  \pause
  \begin{align*}
    \text{MaxP}[i] &= \max\set{\text{MaxP}[i-1] \cdot a_i, \text{MinP}[i-1] \cdot a_i, a_i} \\
    \text{MinP}[i] &= \min\set{\text{MaxP}[i-1] \cdot a_i, \text{MinP}[i-1] \cdot a_i, a_i}
  \end{align*}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
% \begin{frame}{}
%   2d version
% \end{frame}
%%%%%%%%%%%%%%%