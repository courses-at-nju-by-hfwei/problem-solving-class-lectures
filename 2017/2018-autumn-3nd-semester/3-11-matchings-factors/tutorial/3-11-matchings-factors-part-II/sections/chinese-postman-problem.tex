% file: sections/chinese-postman-problem.tex

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \teal{\LARGE Chinese Postman Problem (CPP)} \\[5pt]
    \cyan{(Postman Tour Problem, Route Inspection Problem)}
  \end{center}

  \fig{width = 0.60\textwidth}{figs/postman}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{columns}
    \column{0.40\textwidth}
      \fig{width = 0.70\textwidth}{figs/guan}
      \begin{CJK*}{UTF8}{gbsn}
        \centerline{\teal{管梅谷 ($1934$-)}}
      \end{CJK*}
    \column{0.60\textwidth}
      \fig{width = 0.80\textwidth}{figs/guan-cpp-paper}
      \begin{CJK*}{UTF8}{gbsn}
	\begin{center}
	  \teal{《奇偶点图上作业法》, $1960$ \\[6pt]
	    Translated into English in $1962$
	  }
	\end{center}
      \end{CJK*}
  \end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{columns}
    \column{0.40\textwidth}
      \fig{width = 0.70\textwidth}{figs/jack-edmonds}
      \centerline{\teal{Jack Edmonds ($1934$-)}}
    \column{0.60\textwidth}
      \fig{width = 0.85\textwidth}{figs/edmonds-cpp-paper}
      \begin{center}
	\teal{``Matching, Euler Tours and \\ the Chinese Postman'', $1973\; (1965)$}
      \end{center}
  \end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{definition}[Chinese Postman Problem]
    \begin{center}
      Given an undirected weighted graph $G$ with \teal{$w(e) > 0$}, \\
      to find the shortest \purple{tour} such that \violet{each edge is traversed at least once}.
    \end{center}
  \end{definition}

  \pause
  \vspace{0.30cm}
  \begin{center}
    \red{$Q:$ What is the relation between Postman Tour and Eulerian Tour?}
  \end{center}

  \begin{columns}
    \column{0.50\textwidth}
      \fig{width = 0.70\textwidth}{figs/postman}
    \column{0.50\textwidth}
      \fig{width = 0.30\textwidth}{figs/Leonhard-Euler}
  \end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \teal{$P$: A postman tour of $G$} \\[5pt] \pause
    $P$ contains every edge $e$ at least once. \\[5pt] \pause
    Let \purple{$1 + x_{e}\; (x_{e} \in \mathbb{N})$} be the number of times edge $e$ is in $P$. \pause
    \[
      \blue{\text{Construct } G' = G + e \cdot x_{e}}
    \]
    \pause
    \red{\fbox{$P$ is an Eulerian tour of $G'$.}}
  \end{center}

  \pause
  \vspace{0.20cm}
  \begin{definition}[Chinese Postman Problem]
    \begin{center}
      Given an undirected weighted graph $G$ with $w(e) > 0$, \\
      to \purple{find $x_e \in \mathbb{N}$ for each edge $e$} of $G$ 
      \[
	\red{\text{to minimize } \sum_{e} w(e) x_e},
      \]
      such that \blue{$G' = G + e \cdot x_{e}$} is an Eulerian graph.
    \end{center}
  \end{definition}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{definition}[Chinese Postman Problem]
    \begin{center}
      Given an undirected weighted graph $G$ with $w(e) > 0$, \\
      to \purple{find $x_e \in \mathbb{N}$ for each edge $e$} of $G$ 
      \[
	\red{\text{to minimize } \sum_{e} w(e) x_e},
      \]
      such that \blue{$G' = G + e \cdot x_{e}$} is an Eulerian graph.
    \end{center}
  \end{definition}

  \pause
  \begin{center}
    \red{$Q:$ What are the possible values of each $x_{e}$?}
  \end{center}

  \pause
  \begin{definition}[Chinese Postman Problem]
    \begin{center}
      Given an undirected weighted graph $G$ with $w(e) > 0$, \\
      to \purple{find $x_e \in \set{0, 1}$ for each edge $e$} of $G$ 
      \[
	\red{\text{to minimize } \sum_{e} w(e) x_e},
      \]
      such that \blue{$G' = G + e \cdot x_{e}$} is an Eulerian graph.
    \end{center}
  \end{definition}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \input{algs/chinese-postman-problem-alg}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{columns}
    \column{0.60\textwidth}
      \only<1-3>{\fig{width = 0.80\textwidth}{figs/chinese-postman-example-graph}}
      \only<4>{\fig{width = 0.80\textwidth}{figs/chinese-postman-example-tour}}
    \column{0.40\textwidth}
      \pause
      \fig{width = 0.80\textwidth}{figs/chinese-postman-example-shortest-paths}
      \pause
      \fig{width = 0.80\textwidth}{figs/chinese-postman-example-perfect-matching}
  \end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \input{algs/chinese-postman-problem-alg-question}

  \pause
  \begin{center}
    \red{$Q:$ What if some edge $e \in E(G)$ is in two shortest paths \\ corresponding to (two) matching edges of $G_{p}$?}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{theorem}[Edge-disjointness of Shortest Paths]
    No edge $e \in E(G)$ is in two shortest paths corresponding to (two) matching edges of $G_{p}$.
  \end{theorem}

  \pause
  \begin{proof}
    \pause
    \begin{center}
      \red{By Contradiction.}
    \end{center}

    \pause
    \begin{columns}
      \column{0.30\textwidth}
	\fig{width = 0.60\textwidth}{figs/chinese-postman-problem-edge-disjoint}
      \column{0.70\textwidth}
	\begin{center}
	  Suppose that 
	  \[
	    \red{\exists e \in E(G): e \in u_1 \leadsto u_2 \land e \in v_1 \leadsto v_2}
	  \]

	  \pause
	  \vspace{0.20cm}
	  \red{Contradiction:} \\[5pt]
	  $u_1 \leadsto v_1, u_2 \leadsto v_2 \implies$ smaller perfect matching
	\end{center}
    \end{columns}
  \end{proof}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{theorem}[Property of \textsc{Chinese-Postman}]
    \begin{center}
      The edges with $x_{e} = 1$ obtained by \textsc{Chinese-Postman}
      is a \red{minimum} collection of \red{edge-disjoint paths connecting pairs of odd vertices}.
    \end{center}
  \end{theorem}

  \only<2>{
    \fig{width = 0.30\textwidth}{figs/just-begins}
  }

  \uncover<3->{
    \begin{center}
      To prove that these $x_e = 1$ obtained by \textsc{Chinese-Postman} satisfies:
    \end{center}

    \begin{definition}[Chinese Postman Problem]
      \begin{center}
	Given an undirected weighted graph $G$ with $w(e) > 0$, \\
	to \purple{find $x_e \in \set{0, 1}$ for each edge $e$} of $G$ 
	\[
	  \red{\text{to minimize } \sum_{e} w(e) x_e},
	\]
	such that \blue{$G' = G + e \cdot x_{e}$} is an Eulerian graph.
      \end{center}
    \end{definition}
  }
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{lemma}[\textsc{Chinese-Postman} Gives a Postman Tour]
    \begin{center}
      \blue{$G' = G + e \cdot x_{e}$} is an Eulerian graph.
    \end{center}
  \end{lemma}

  \pause
  \vspace{0.60cm}
  \begin{proof} 
    A collection of \red{edge-disjoint paths connecting pairs of odd vertices}.
  \end{proof}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{lemma}[\textsc{Chinese-Postman} Gives an Optimal Postman Tour]
    \begin{center}
      \[
	\sum_{e} w(e) x_{e} \text{ is minimized.}
      \]
    \end{center}
  \end{lemma}

  \pause
  \vspace{0.30cm}
  \begin{theorem}[Property of \textsc{Chinese-Postman}]
    \begin{center}
      The edges with $x_{e} = 1$ obtained by \textsc{Chinese-Postman}
      is a \red{minimum} collection of \red{edge-disjoint simple paths connecting pairs of odd vertices}.
    \end{center}
  \end{theorem}

  \pause
  \begin{center}
    \teal{$P$: An optimal postman tour of $G$} \\[5pt] \pause
    Let \purple{$1 + x_{e}\; (x_{e} \in \mathbb{N})$} be the number of times edge $e$ is in $P$. \\[8pt] \pause

    We show that the edges with $x_e = 1$ is a collection of edge-disjoint simple paths connecting pairs of odd vertices.
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \begin{lemma}[Property of Optimal Postman Tours]
    \begin{center}
      \teal{$P$: An optimal postman tour of $G$} \\[5pt]
      Let \purple{$1 + x_{e}\; (x_{e} \in \mathbb{N})$} be the number of times edge $e$ is in $P$. \\[8pt]

      The edges with $x_e = 1$ is a collection of \\ edge-disjoint simple paths connecting pairs of odd vertices.
    \end{center}
  \end{lemma}

  \pause
  \begin{proof}
    \begin{center}
      \red{By Construction.} \\[6pt] \pause
      An odd number of edges $e$ with $x_e = 1$ meet odd nodes. \\[2pt]
      An even number of edges $e$ with $x_e = 1$ meet even nodes. \pause

      \fig{width = 0.30\textwidth}{figs/chinese-postman-problem-decompose}
    \end{center}
  \end{proof}
\end{frame}
%%%%%%%%%%%%%%%%%%%%